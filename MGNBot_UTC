import praw
import time


QUESTIONS = ['need help', 'first grow', 'whats wrong', 'newbie', 'noob']
REPLY_TEMPLATE = 'Have you checked the [sidebar](https://www.reddit.com/r/microgrowery/wiki/config/sidebar) It is full of all sorts of helpful Information'
#start = int(time.time())
start = 1491883370.0
reddit = praw.Reddit('bot1')
subreddit = reddit.subreddit('MGNBot')

def main():
	
	print(start)
	
	for submission in subreddit.stream.submissions():
		process_submission(submission)

def process_submission(submission):
	comment = next(reddit.subreddit.submission())
	if format(comment.created_utc) > start:
		return
	normalized_title = submission.title.lower()
	for question_phrase in QUESTIONS:
		if question_phrase in normalized_title:
			print('Replying to: {}'.format(submission.title))
			submission.reply(REPLY_TEMPLATE)
			# A reply has been made so do not attempt to match other phrases.
			break

if __name__ == '__main__':
    main()
